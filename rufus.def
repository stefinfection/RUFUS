Bootstrap: library
From: ubuntu:22.04

%labels
    Author Stephanie Georges
    Version v0.0.1

%post
    apt-get update
    echo "finished updating"
    apt-get install -y git cmake wget build-essential software-properties-common zlib1g-dev libbz2-dev liblzma-dev bc libncurses5-dev samtools bamtools 
    add-apt-repository ppa:ubuntu-toolchain-r/test
    echo "finished creating repo"

    git clone https://github.com/jandrewrfarrell/RUFUS.git
    cd RUFUS
    mkdir bin
    cd bin
    cmake ../
    make
    cd ..
    echo "finished installing rufus"
         
    apt-get purge -y --auto-remove git wget
        
%environment
    export PATH=$PATH:/RUFUS/bin

%test
    samtools || true
    bamtools || true
      
%runscript
    echo "Arguments provided: $*"
    ./runRufus.sh $@

